direction right
title Coink - Application Flow & User Journey

// Entry Points
Start [icon: user, label: "User Starts"]
Register [icon: user-plus, label: "Register Account"]
Login [icon: key, label: "Login"]

// Authentication Flow
AuthFlow [label: "Authentication"] {
  JWT [icon: shield, label: "JWT Token"]
  Validation [icon: check, label: "Token Validation"]
}

// Main Dashboard
Dashboard [icon: dashboard, label: "Financial Dashboard"] {
  MonthlySummary [label: "Monthly Summary"]
  IncomeExpenseCharts [icon: chart, label: "Charts"]
  RecentTransactions [label: "Recent Transactions"]
  CategoryBreakdown [label: "Category Breakdown"]
}

// Category Management
CategoryMgmt [icon: tag, label: "Category Management"] {
  SetupDefaults [label: "Setup Default Categories"]
  CreateCustom [label: "Create Custom Categories"]
  ManageExisting [label: "Edit/Delete Categories"]
  CategoryFilters [label: "Filter by Type"]
}

// Transaction Management
TransactionMgmt [icon: dollar, label: "Transaction Management"] {
  CreateSingle [label: "Add Single Transaction"]
  CreateInstallment [label: "Add Installment Purchase"]
  CreateRecurring [label: "Add Recurring Transaction"]
  ViewList [label: "View Transaction List"]
  EditTransaction [label: "Edit Transaction"]
  PayInstallment [label: "Mark Installment as Paid"]
  FilterTransactions [label: "Advanced Filtering"]
}

// Advanced Transaction Options
AdvancedOptions [label: "Advanced Options"] {
  InstallmentConfig [label: "Installment Configuration"] {
    NumInstallments [label: "Number of Installments"]
    InterestRate [label: "Interest Rate %"]
    FirstPaymentDate [label: "First Payment Date"]
  }
  
  RecurringConfig [label: "Recurring Configuration"] {
    Frequency [label: "Monthly Frequency"]
    RecurringDay [label: "Day of Month"]
  }
  
  FinancialCalc [label: "Financial Calculations"] {
    Interest [label: "Interest Rate %"]
    Tax [label: "Tax Rate %"]
    OriginalAmount [label: "Original Amount"]
  }
}

// Reporting System
ReportingSystem [icon: chart, label: "Financial Reports"] {
  MonthlyReports [label: "Monthly Summary"]
  CategoryAnalysis [label: "Category Analysis"]
  PaymentMethodAnalysis [label: "Payment Method Analysis"]
  InstallmentTracking [label: "Installment Tracking"]
  ExportData [label: "Export Data"]
}

// Data Layer
DataLayer [label: "Data Persistence"] {
  PrismaORM [icon: prisma, label: "Prisma ORM"]
  SQLiteDB [icon: sqlite, label: "SQLite Database"]
}

// Flow Connections
Start > Register: New user
Start > Login: Existing user
Register > Login: Account created
Login > JWT: Valid credentials
JWT > Dashboard: Authenticated access

// Main navigation
Dashboard > CategoryMgmt: Manage categories
Dashboard > TransactionMgmt: Manage transactions
Dashboard > ReportingSystem: View reports

// Category flow
CategoryMgmt > SetupDefaults: First time setup
SetupDefaults > CreateCustom: Add personal categories
CreateCustom > TransactionMgmt: Ready to track

// Transaction creation flow
TransactionMgmt > CreateSingle: Simple transaction
TransactionMgmt > CreateInstallment: Installment purchase
TransactionMgmt > CreateRecurring: Recurring transaction
CreateInstallment > AdvancedOptions: Configure installment
CreateRecurring > AdvancedOptions: Configure recurrence
AdvancedOptions > DataLayer: Save transaction

// Data flow
TransactionMgmt > PrismaORM: Save data
CategoryMgmt > PrismaORM: Save categories
PrismaORM > SQLiteDB: Persist data
SQLiteDB > ReportingSystem: Generate reports